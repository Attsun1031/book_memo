# 複雑なテストデータの構築
依存ピアをすべてコンストラクタで受け取るルールに厳格になると、多くのオブジェクトを受け取るオブジェクトは生成するのが難しくなる。

### オブジェクトマザー
これを回避する手段としてオブジェクトマザーと呼ばれる手段がある。  
テスト対象オブジェクトのファクトリメソッドを多く備えたオブジェクトのこと。

	order = ExampleOrders.newDeerstalkerAndCapOrder();

しかし、バリエーションが増えるごとにファクトリが増えていくので爆発しがち。

## テストデータビルダー
テストデータ用のビルダーオブジェクトを作る。  
このビルダーはコンストラクタの各パラメータの安全なデフォルト値を持っているので、変更が必要なパラメータだけ渡して作ることができる。

	order = OrderBuidler.build()
	order = OrderBuild.build(customer = specialCustomer)
	order = OrderBuild.build(orderLines = specialLines)

### メリット
* オブジェクト生成時のシンタックスノイズを切り出せる
* 特殊なオブジェクトが作りやすい
* オブジェクト構造に対する変更からテストが守れる
  * コンストラクタ引数が追加されても、その影響はビルダーで吸収できる。
  
### デフォルト引数をサポートする言語では
（私感）デフォルト引数をサポートする言語では、プログラムの仕様上、デフォルトを提供することが適切で無いような引数を持つコンストラクタを持つオブジェクトには適用できるだろう。

### 重複の排除
重複をあるメソッド一つにまとめる場合、そのメソッド名は手続きではなく何をしているかを表すものにすべき。

## コミュニーケーションが第一
**コードは読まれるために存在する**ということを原則としてテストコードを書くこと。  
つまり、出来る限り宣言的に書く。手続きよりも意図。